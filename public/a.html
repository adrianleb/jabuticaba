<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1 user-scalable=no">
    <title>Jabuticaba</title>
    <!-- <link rel="icon" id="favicon" type="image/png" href="/path/image.png"> -->
    <meta name="description" content="Shuffler API v2 Documentation">

    <script type="text/javascript" src="js/vendor/tuna-master/tuna.js"></script>

    <script>

      var context = new webkitAudioContext();
      var o = context.createOscillator();
      o.frequency.value = 440;

      o.start(0)

      // we need to send it somewhere or else nothing runs.
      var g = context.createGainNode()
      var o.connect(g)
      g.gain = 0 // !!!!
      g.connect(context.destination)

      servers = null
      var pc1 = new webkitRTCPeerConnection(
          { "iceServers": [{ "url": "stun:stun.l.google.com:19302" }] }
      );

      pc1.onicecandidate = function() { console.debug('onicecandidate') };
      pc1.onaddstream = function() { console.debug('onaddstream') };


      pc1.addStream(localstream); 

      pc1.createOffer(gotDescription1);

      function gotDescription1(desc){
        pc1.setLocalDescription(desc);
        trace("Offer from pc1 \n" + desc.sdp);
        pc2.setRemoteDescription(desc);
        pc2.createAnswer(gotDescription2);
      }

    </script>


  </body>
</html>
