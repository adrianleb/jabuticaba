// Generated by CoffeeScript 1.3.3
(function() {
  var P2PTry;

  P2PTry = (function() {

    function P2PTry() {}

    P2PTry.prototype.currentData = null;

    P2PTry.prototype.initi = function() {
      var _this = this;
      console.log("LOIOI");
      this.ctx = new webkitAudioContext();
      this.source = this.ctx.createBufferSource();
      this.source.connect(this.ctx.destination);
      this.source.start(0);
      this.peer = new Peer('kekeke', {
        key: 'sbi86lbw0g1d1jor'
      });
      return this.peer.on('connection', function(conn) {
        console.log('got conn.  ');
        return conn.on('data', function(data) {
          console.log('got mess ');
          return _this.ctx.decodeAudioData(data, function(d) {
            console.log("decoded");
            return _this.source.buffer = d;
          }, function(e) {
            cl("LALAEEE");
            return cl(e);
          });
        });
      });
    };

    return P2PTry;

  })();

  window.P2PTry = new P2PTry();

}).call(this);
