<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1 user-scalable=no">
    <title>Shuffler API v2 Documentation</title>
    <!-- <link rel="icon" id="favicon" type="image/png" href="/path/image.png"> -->
    <meta name="description" content="Shuffler API v2 Documentation">

    <script>
// load typekit quickly, dont wait for other scripts
//  this allows the html to receive the right class name as soon as possible.
// the class name given by typekit fades the website for a maximum of 1.5 seconds.
// if typekit responds before that, we do the switch back
// this is a fix for FOUT, flash of unstyled text
  (function() {

      var config = {
        kitId: 'ohm5iwy',
        scriptTimeout: 1000
      };

      var h = document.getElementsByTagName("html")[0];
      h.className += " wf-loading";
      var t = setTimeout( function(){
        h.className = h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");
        h.className += "wf-inactive"}
        ,config.scriptTimeout);
      var tk = document.createElement("script"),
          d = false;
      tk.src = '//use.typekit.net/'+config.kitId+'.js';
      tk.type = "text/javascript";
      tk.async = "true";
      tk.onload = tk.onreadystatechange=function(){
        var a = this.readyState;
        if( d || a && a != "complete" && a != "loaded") return;
        d = true;
        clearTimeout(t);
        try{Typekit.load(config)}
        catch(b){}
      };
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(tk,s)
  })();
    </script>
    <!-- <meta name="viewport" content="width=device-width"> -->
    <link rel="stylesheet" href="css/main.css" class="cssfx">
  </head>
  <body class="colorize">
    <header class="fixed colorizing">
      <h1 class="logo">
        <img src="http://shuffler.fm/assets/web/shufflerfm_logo.png" alt="">
      </h1>
      <a href="http://shuffler.fm" class="black_btn header_link">go to Shuffler.fm</a>
    </header>
    <div class="menu_controls">
      <a href="#" id="expand_collapse"></a>
      <a href="#" id="go_up" class="disabled">go up</a>
    </div>
    <section id="nav"class="menu"></section> 

    <!-- start of content -->
    <div id="content" class="content">
      <article id="about" class="classSwaping about_view">
        <section id="general_notes">
          <h1>GENERAL NOTES</h1>
          <p>The current API version is 2. For the previous version of our API see <a href="/v1" target="_blank">developers.shuffler.fm/v1</a>. Important changes from v1 to v2 are in the <a href="#changelog">changelog</a>.</p>
          Except for authorizations, the base URL for all requests is <pre> https://api.shuffler.fm/v2/ </pre> so in the next sections where we go over all possible requests, <pre>GET /tracks/1036</pre> means doing a HTTP GET request to the URL <pre>https://api.shuffler.fm/v2/tracks/1036</pre>. On authorizations the base URL is <pre>https://shuffler.fm/</pre>.
        </section>
        <section id="app_key">
          <h2>App key & secret</h2>
          <p>The "app-key" parameter is mandatory on all requests. To get an app key you have to create an app here: <a href="http://shuffler.fm/developers" target="_blank">shuffler.fm/developers</a>.</p>
          <p>Additionally on some requests you will need an app secret. This is your app's private 'password'. You will also automatically get an app secret once you create an app.</p>
        </section>
        <section id="wrappers"> 
          <h2>Wrappers</h2>
          <p>Wrappers make your life easier. Here is an extensive list of wrappers:</p>
          <ul>
            <li>
              Ruby: <a href="https://github.com/mguinada/shuffler_fm" target="_blank" >github.com/mguinada/shuffler_fm</a> by Miguel Guinada.
            </li>
          </ul>
        </section>
        <section id="example">
          <h2>Example Application</h2>
          <p>We've made an example app in ruby called <b>Narcis</b> which recommends you artists and sites to subscribe. Grab the code:</p>
          <ul>
            <li><a href="http://narcis.herokuapp.com" target="_blank">the app</a></li>
            <li><a href="https://github.com/shuffler/narcis" target="_blank">source code</a></li>
          </ul>
        </section>
        <section id="responses">
          <h2>Responses</h2>
          <p>All responses are in JSON. JSONP is also supported, just add &callback={your-callback} to the request and JSONP is served. The "app-key" parameter is mandatory on all requests.</p>
        </section>
        <section id="pagination">
          <h2>Pagination</h2>
          <p>All requests return by default a maximum of 50 results. To get more results, set the <i>page</i> parameter, e.g. <pre>/sites?page=2</pre>. The first page is page 1.</p>
          <p>To get a different number of results per page you can use the parameter <i>per_page</i>. This can be used on all requests that return lists, except /genres, and has a maximum value of 100 and by default is 50.</p>
        </section>
        <section id="rate_limiting">
          <h2 >Rate limiting</h2>
          <p>Currently we rate-limit by app-key and ip. Each key-ip pair may do up to 5000 requests an hour. Subsequent requests will answer with the HTTP status code "429 Too Many Requests".</p>
        </section>
        <section id="streaming_access">
          <h2>Streaming URLs</h2>
          <p>On track objects the attribute "url" indicates the location of the media file. Depending on the "platform" attribute it can have these classes of values:</p>
          <ul>
            <li>
              <b>mp3:</b> <pre>https://api.shuffler.fm/v2/tracks/9972/stream?app-key=YOUR-APP-KEY</pre> where 9972 is the track id. You will need a special permission from the API to get these URLs. Please read this page on how to request access.
            </li>
            <li><b>youtube:</b> <pre>http://www.youtube.com/v/hjYlQ4HYeOw</pre></li>
            <li><b>soundcloud:</b><pre>https://api.soundcloud.com/tracks/53437545/stream?consumer_key=YOUR-SOUNDCLOUD-CONSUMER-KEY</pre> You will have to get your own soundcloud consumer key to stream those. You can get one over here: <a href="http://developers.soundcloud.com/">http://developers.soundcloud.com/</a></li>
            <li><b>officialfm:</b> <pre>https://api.official.fm/tracks/xyXY/stream?api_version=2.0</pre> You will have to get your own Official.fm API key to stream those. You can get one over here: <a href="http://official.fm/developers">http://official.fm/developers</a></li>
          </ul>
        </section>
        <section id="linking_back">
        <h2>Linking back</h2>
        <p>If you read our <a href="http://shuffler.fm/developers/api-ua">API Usage Agreement</a> you'll notice that we ask you to always link back to the correspondent track on <a href="http://shuffler.fm">http://shuffler.fm</a>.</p>
        <p>For an Activity <i>a</i> you can use one of the two url types under <i>a.object.links</i>:</p>
        <ul>
          <li>The <i>permanent_url</i> is a play.shuffler.fm subdomain url. We also use this kind of links when sharing from our player and the track doesn't autoplays if the user follows this link.</li>
          <li>
            The <i>player_url</i> is, as the name implies, a link to a track on the player. The track will play if the user requests it. And it is constructed as follows:
            <p><pre>http://shuffler.fm/tracks/CHANNEL-KEY/POSITION/TRACK-ID</pre></p>
            <p>You can find the position on <i>a.position</i> and the track id in <i>a.object.id</i>. Notice that the link on <i>a.object.links.player_url</i> the CHANNEL-KEY is equal to the requested channel.</p>
          </li>
        </ul>
        </section>
      </article>

      <h1 class="gapbefore_x5"><a name="resources"></a>Resources</h1>
      <section id="container" class="container">
      </section>

      <section id="changelog" class="changelog">
        <h1>Changelog</h1>
        <ul class="changelog_list">
          <!-- a changelog item -->
          <li>
            <h3 class="changelog_title">2.0 &mdash; <time datetime="2013-04-17">April 17, 2013</time></h3>
            <h4>Features:</h4>
            <ul>
              <li><b>Authorizations</b> OAuth 2.0 style authorization allows your app to act on behalf of the user.</li>
              <li><b>User resource</b> The User is now accessible as a resource.
            </ul>
            <h4>Changes:</h4>
            <ul>
              <li><b>Channel keys by ID</b><br/> Instead of channel keys <i>entity_type</i>:<i>entity_name</i> (e.g. artist:The%20Strokes) the API uses <i>entity_type</i>:<i>entity_id</i>.</li>
              <li><b>Pagination</b><br/> Pagination now starts at 1 instead of 0 as in v1.</li>
              <li><b>Resource name change: blogs â†’ sites</b><br/> The <i>blog</i> entity has now become the <i>site</i> entity. Everywhere v1 references <i>blogs</i>, v2 references <i>sites</i>.</li>
              <li><b>HTTPS-only</b><br/> HTTP requests won't be answered.</li>
            </ul>
          </li>
        </ul>
      </section>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/jst.js"></script>
    <script src="js/helpers/generic.js"></script>
    <script src="js/routers/main.js"></script>
    <script src="js/models/resource.js"></script>
    <script src="js/collections/resources.js"></script>
    <script src="js/views/resource.js"></script>
    <script src="js/views/resources_menu.js"></script>
    <script src="js/views/home.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17379622-4']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
